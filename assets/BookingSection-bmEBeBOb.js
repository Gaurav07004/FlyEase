import{G,u as P,g as Y,r as q,j as e,C as H,m as b,n as h,o as z,q as U,t as g,R as D,v as V,w as S,x as J,N as W,y as p,z as m,A as K,D as Q,E as X,H as Z,I as _,J as ee,K as ae,L as se,M as re,O as le,P as ie,Q as ne,S as y,T as O,U as F,V as te,W as oe,X as ce}from"./index-B2uhBTqO.js";import{a as de,b as he,c as pe}from"./index.esm-DX4lpyZI.js";function I(l){return G({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(l)}function xe(){var A,T;const l=P(),s=Y(a=>a);q.useEffect(()=>{const a=r=>{const i=document.querySelector(".DepartureBookingSection"),n=document.querySelector(".ArrivalBookingSection"),t=document.querySelector(".DepartureDateBookingSection"),o=document.querySelector(".TravellersClassBookingSection");i&&!i.contains(r.target)&&l(p(!1)),n&&!n.contains(r.target)&&l(m(!1)),t&&!t.contains(r.target)&&l(b(!1)),o&&!o.contains(r.target)&&l(g(!1))};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[l]);const u=async(a,r)=>{try{const t=(await l(te(a))).payload.filter(o=>o.city===a);l(r==="departure"?oe(t):ce(t))}catch(i){console.error("Error fetching airport data:",i)}},w=(a,r)=>{r==="departure"?(l(ie(a)),u(a,r)):(l(ne(a)),u(a,r))},B=(a,r)=>{const i=r==="departure"?O:F;r==="arrival"&&s.booking.departureAirport&&a.city===s.booking.departureAirport.city&&a.name===s.booking.departureAirport.name?(l(y(!0)),l(r==="departure"?p(!1):m(!1))):(l(i(a)),l(r==="departure"?p(!1):m(!1)),l(y(!1)))},E=()=>{var r,i,n,t;const a={city:(r=s.booking.departureAirport)==null?void 0:r.city,name:(i=s.booking.departureAirport)==null?void 0:i.name};l(O({city:(n=s.booking.arrivalAirport)==null?void 0:n.city,name:(t=s.booking.arrivalAirport)==null?void 0:t.name})),l(F({city:a.city,name:a.name}))},N=a=>{l(K(a==="departure")),l(Q(a==="arrival")),l(X(a==="departureDate")),l(Z(a==="travellersClass"))},x=(a,r)=>{l(_({...s.booking.selectedNoOfTravellers,[r]:a}))},L=a=>{l(ee(a))},M=()=>{l(ae({selectedNoOfTravellers:s.booking.selectedNoOfTravellers.Totalcount,selectedTravelClass:s.booking.selectedTravelClass})),l(g(!1))},$=a=>{l(se(a))},j=new Date;j.setMonth(j.getMonth()+2);const d=(a,r)=>{const i=a.filter(t=>t!==r),n=Math.floor(Math.random()*i.length);return i[n]},v=d(["Delhi","Mumbai","New York","Ahmedabad","Bengaluru","Goa"]),k=d(["Singapore","Tokyo","New York","Dubai","Atlanta","Bangkok","Chicago"]),C=a=>{var n,t,o,f;const r=a==="departure"?"Departure":"Arrival",i=a==="departure"?s.booking.departureClicked:s.booking.arrivalClicked;return e.jsxs("div",{className:`${r}BookingSection ${i?"clicked":""}`,onClick:()=>N(a),children:[e.jsxs("div",{htmlFor:`${r}City`,onClick:()=>l(a==="departure"?p(!s.booking.showDepartureOptions):m(!s.booking.showArrivalOptions)),children:[e.jsx("span",{className:"sectionLabel",children:a==="departure"?"From":"To"}),e.jsxs("div",{className:"SelectedAirportInfo",children:[e.jsx("div",{className:`${r}City`,children:a==="departure"?((n=s.booking.departureAirport)==null?void 0:n.city)||"Mumbai":((t=s.booking.arrivalAirport)==null?void 0:t.city)||"New Delhi"}),e.jsx("div",{className:`${r}AirportName`,children:a==="departure"?((o=s.booking.departureAirport)==null?void 0:o.name)||"Chhatrapati Shivaji Maharaj International":((f=s.booking.arrivalAirport)==null?void 0:f.name)||"Indira Gandhi International Airport"})]})]}),(a==="departure"?s.booking.showDepartureOptions:s.booking.showArrivalOptions)&&e.jsxs("div",{className:`${r}OptionsContainer`,children:[e.jsxs("div",{className:"SearchField",children:[e.jsx(de,{id:"SearchIcon"}),e.jsx("input",{className:`${r}Input`,type:"name",placeholder:`Search ${r} Airport`,value:a==="departure"?s.booking.departureInput:s.booking.arrivalInput,onChange:c=>w(c.target.value,a)})]}),e.jsxs("article",{className:`${r}Suggestions`,children:[e.jsx("p",{children:"SUGGESTIONS"}),(a==="departure"?s.booking.departureResults:s.booking.arrivalResults).map((c,R)=>e.jsx("div",{className:"AirportDetail",onClick:()=>B(c,a),children:e.jsxs("div",{className:"AirportDetailContainer",children:[e.jsx("div",{className:"AiplaneIcon",children:a==="departure"?e.jsx(he,{className:"text-amber-400"}):e.jsx(pe,{className:"text-amber-400"})}),e.jsxs("div",{className:"AirportInfo",children:[e.jsxs("div",{className:"City",children:[c.city,e.jsx("span",{className:"airport_iata",children:c.iata})]}),e.jsx("div",{className:"AirportName",children:c.name})]})]})},R))]})]}),a==="arrival"&&e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"GoArrowSwitch",onClick:()=>E()}),s.booking.showError&&e.jsxs("div",{className:"ErrorMessage",children:[e.jsx("div",{className:"ErrorIcon",children:e.jsx(le,{})}),e.jsx("p",{children:"From & To airports cannot be the same"})]})]})]})};return e.jsx(H,{fluid:!0,children:e.jsxs("main",{children:[e.jsxs("section",{className:"Booking_Section",children:[e.jsx("div",{className:"BookingInfo",children:e.jsx("span",{children:"Book International and Domestic Flights"})}),e.jsxs("div",{className:"BookingContainer",children:[e.jsx("section",{children:C("departure")}),e.jsx("section",{children:C("arrival")}),e.jsxs("div",{className:`DepartureDateBookingSection ${s.booking.dateClicked?"clicked":""}`,onClick:()=>N("departureDate"),children:[e.jsxs("div",{onClick:()=>l(b(!s.booking.showCalendar)),children:[e.jsxs("div",{className:"DateSection",children:[e.jsx("span",{className:"sectionLabel",children:"Departure"}),e.jsx(I,{className:"Departure-Date-Icon"})]}),e.jsxs("div",{className:"DepartureDate",children:[e.jsx("span",{className:"Date",children:h(s.booking.currentDate,"dd")}),e.jsxs("span",{className:"Month",children:[h(s.booking.currentDate,"MMM"),"'"]}),e.jsx("span",{className:"Year",children:h(s.booking.currentDate,"yy")})]}),e.jsx("span",{className:"Day",children:h(s.booking.currentDate,"EEEE")})]}),s.booking.showCalendar&&e.jsx("article",{className:"CalendarSection",children:e.jsx(z,{defaultValue:s.booking.currentDate,onChange:a=>l(U(a)),minDate:new Date,maxDate:j})})]}),e.jsxs("div",{className:`TravellersClassBookingSection ${s.booking.travellersClassClicked?"clicked":""}`,onClick:()=>N("travellersClass"),children:[e.jsxs("div",{htmlFor:"TravellersClass",onClick:()=>{l(g(!s.booking.travellersClassOption))},children:[e.jsxs("div",{className:"DateSection",children:[e.jsx("span",{className:"sectionLabel",children:"Travellers & Class"}),e.jsx(I,{className:"Departure-Date-Icon"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"CountOfTravellers",children:[e.jsx("span",{className:"Count",children:((A=s.booking.selectedTravelDetails)==null?void 0:A.selectedNoOfTravellers)||1}),e.jsx("span",{className:"Travellers",children:"Travellers"})]}),e.jsx("main",{className:"TravellerClass",children:((T=s.booking.selectedTravelDetails)==null?void 0:T.selectedTravelClass)||"Economy"})]})]}),s.booking.travellersClassOption&&e.jsx("section",{className:"TravellersClassBookingContainer",children:e.jsxs("div",{className:"TravellersClassSuggestion",children:[e.jsxs("div",{className:"CountOfAdults",children:[e.jsx("p",{className:"PassengerYear",children:"ADULTS (12y+)"}),e.jsx("p",{className:"TravelDay",children:"on the day of travel"}),e.jsx("ul",{className:"NoOfTravellers",children:[1,2,3,4,5,6,7,8].map((a,r,i)=>e.jsx("li",{className:`NoOfCount ${s.booking.selectedNoOfTravellers.Adult===a||!s.booking.selectedNoOfTravellers.Adult&&a===i[0]?"Selected":""}`,onClick:()=>x(a,"Adult"),children:a},r))})]}),e.jsxs("div",{className:"CountOfChildInfant",children:[e.jsxs("div",{className:"CountOfChild",children:[e.jsx("p",{className:"PassengerYear",children:"CHILDREN (2y - 12y )"}),e.jsx("p",{className:"TravelDay",children:"on the day of travel"}),e.jsx("ul",{className:"NoOfTravellers",children:[0,1,2,3,4,5,6].map((a,r,i)=>e.jsx("li",{className:`NoOfCount ${s.booking.selectedNoOfTravellers.Child===a||!s.booking.selectedNoOfTravellers.Child&&a===i[0]?"Selected":""}`,onClick:()=>x(a,"Child"),children:a},r))})]}),e.jsxs("div",{className:"CountOfInfant",children:[e.jsx("p",{className:"PassengerYear",children:"INFANTS (below 2y)"}),e.jsx("p",{className:"TravelDay",children:"on the day of travel"}),e.jsx("ul",{className:"NoOfTravellers",children:[0,1,2,3,4,5,6].map((a,r,i)=>e.jsx("li",{className:`NoOfCount ${s.booking.selectedNoOfTravellers.Infant===a||!s.booking.selectedNoOfTravellers.Infant&&a===i[0]?"Selected":""}`,onClick:()=>x(a,"Infant"),children:a},r))})]})]}),e.jsxs("div",{className:"TravelClassName",children:[e.jsx("p",{className:"TravelClass",children:"CHOOSE TRAVEL CLASS"}),e.jsx("ul",{className:"Classes",children:["Economy","Business"].map((a,r)=>e.jsx("li",{className:`TypeOfClass ${s.booking.selectedTravelClass===a||!s.booking.selectedTravelClass&&a===0?"Selected":""}`,onClick:()=>L(a),children:a},r))})]}),e.jsx("div",{children:e.jsx("button",{className:"ApplyButton",onClick:()=>M(),children:"Apply"})})]})})]})]}),e.jsxs("section",{className:"makeFlex",children:[e.jsxs("div",{className:"Fare-Container",children:[e.jsxs("span",{className:"Select-A-Fare-Type",children:[e.jsx("div",{children:"Select A"}),e.jsx("div",{children:"Fare Type:"})]}),e.jsx("span",{className:"Select-A-Fare-Type-mobile",children:e.jsx("div",{children:"Select A Fare Type:"})}),e.jsx("ul",{className:"SpecialNewFares",children:["Regular Fare","Armed Forces Fares","Student Fares","Senior Citizen Fares","Doctors & Nurses Fares"].map((a,r)=>e.jsxs("li",{className:`FareTypes ${s.booking.selectedFares===a||!s.booking.selectedFares&&a==="Regular Fare"?"activeItem":""}`,onClick:()=>$(a),children:[e.jsx("div",{children:a.split(" ").map((i,n,t)=>e.jsxs(D.Fragment,{children:[n===t.length-1?e.jsx("br",{}):" ",i]},n))}),V.FareDetail.map((i,n)=>e.jsx(D.Fragment,{children:a===i.FareName&&e.jsxs("div",{className:"SpecialNewFaresDetail",children:[e.jsx("p",{className:"FareName",children:i.FareName}),e.jsx("p",{className:"FareDetail",children:i.FareDetail})]})},n))]},r))})]}),e.jsxs("div",{className:"Trending-Search-Container",children:[e.jsx("span",{className:"Trending-Search",children:"Trending Search: "}),e.jsxs("ul",{className:"Trending-Option",children:[e.jsx("li",{className:"Trending-Flight",children:e.jsxs("p",{children:[v,e.jsx(S,{className:"GoArrow"}),d(["Amsterdam","Dubai","Frankfurt","Mexico","Istanbul","London","Paris"],v)]})}),e.jsx("li",{className:"Trending-Flight",children:e.jsxs("p",{children:[k,e.jsx(S,{className:"GoArrow"}),d(["Jakarta","Helsinki","New York","Barcelona","Goa","Madrid"],k)]})})]})]})]})]}),e.jsx(J,{className:"SearchBtn p-4",children:e.jsx(W,{className:"Search",to:"/search",children:"SEARCH"})})]})})}export{xe as default};
